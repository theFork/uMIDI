<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>uMIDI: src/lib/midi.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">uMIDI
   </div>
   <div id="projectbrief">The swiss army knife for quick and easy developement of MIDI applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">midi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MIDI message transceiver.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br/>
<code>#include &lt;avr/interrupt.h&gt;</code><br/>
<code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="gpio_8h_source.html">gpio.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="midi_8h_source.html">midi.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="leds_8h_source.html">leds.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for midi.c:</div>
<div class="dyncontent">
<div class="center"><img src="midi_8c__incl.png" border="0" usemap="#src_2lib_2midi_8c" alt=""/></div>
<map name="src_2lib_2midi_8c" id="src_2lib_2midi_8c">
<area shape="rect" id="node9" href="gpio_8h.html" title="GPIO configuration and service functions." alt="" coords="325,160,381,189"/><area shape="rect" id="node16" href="midi_8h.html" title="MIDI message transceiver." alt="" coords="325,83,381,112"/><area shape="rect" id="node22" href="leds_8h.html" title="Handling of the on&#45;board LEDs." alt="" coords="507,160,563,189"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4816236108052c813fea056a23ebacea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a4816236108052c813fea056a23ebacea">init_midi_module</a> (const struct <a class="el" href="structmidi__config.html">midi_config</a> *const config)</td></tr>
<tr class="memdesc:a4816236108052c813fea056a23ebacea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the MIDI transceiver module.  <a href="#a4816236108052c813fea056a23ebacea"></a><br/></td></tr>
<tr class="memitem:a72ade2b1ea27cc87a1398daaa0d98eb8"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a72ade2b1ea27cc87a1398daaa0d98eb8">read_midi_channel_from_jumpers</a> (const struct <a class="el" href="structjumpers.html">jumpers</a> *<a class="el" href="structjumpers.html">jumpers</a>)</td></tr>
<tr class="memdesc:a72ade2b1ea27cc87a1398daaa0d98eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the MIDI channel configuration from the solder jumpers.  <a href="#a72ade2b1ea27cc87a1398daaa0d98eb8"></a><br/></td></tr>
<tr class="memitem:a03c6a8c4cbef6b9e7662e932a86dd4db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a03c6a8c4cbef6b9e7662e932a86dd4db">send_control_change</a> (<a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a> controller, <a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a> value)</td></tr>
<tr class="memdesc:a03c6a8c4cbef6b9e7662e932a86dd4db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a control change message.  <a href="#a03c6a8c4cbef6b9e7662e932a86dd4db"></a><br/></td></tr>
<tr class="memitem:a00f36dbe09b2525eb4c85078d6e2442d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a00f36dbe09b2525eb4c85078d6e2442d">send_note_off</a> (<a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a> note)</td></tr>
<tr class="memdesc:a00f36dbe09b2525eb4c85078d6e2442d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a note off message.  <a href="#a00f36dbe09b2525eb4c85078d6e2442d"></a><br/></td></tr>
<tr class="memitem:a932a1fca6505217993ecf70796e3df59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a932a1fca6505217993ecf70796e3df59">send_note_on</a> (<a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a> note)</td></tr>
<tr class="memdesc:a932a1fca6505217993ecf70796e3df59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a note on message.  <a href="#a932a1fca6505217993ecf70796e3df59"></a><br/></td></tr>
<tr class="memitem:a21214b7fc3babde70e00cc79c785cdc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a21214b7fc3babde70e00cc79c785cdc0">send_program_change</a> (<a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a> pnum)</td></tr>
<tr class="memdesc:a21214b7fc3babde70e00cc79c785cdc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a program change message.  <a href="#a21214b7fc3babde70e00cc79c785cdc0"></a><br/></td></tr>
<tr class="memitem:ace33586e2fb7bfb976424328e2a04377"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#ace33586e2fb7bfb976424328e2a04377">set_midi_rx_channel</a> (enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a> channel)</td></tr>
<tr class="memdesc:ace33586e2fb7bfb976424328e2a04377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the midi receive channel.  <a href="#ace33586e2fb7bfb976424328e2a04377"></a><br/></td></tr>
<tr class="memitem:abd61659f8ea80ca6752621faba3272c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#abd61659f8ea80ca6752621faba3272c8">set_midi_tx_channel</a> (enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a> channel)</td></tr>
<tr class="memdesc:abd61659f8ea80ca6752621faba3272c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the midi transmit channel.  <a href="#abd61659f8ea80ca6752621faba3272c8"></a><br/></td></tr>
<tr class="memitem:ad20ae395ef016b51127f16f0521743c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#ad20ae395ef016b51127f16f0521743c7">set_omni_mode</a> (bool enable)</td></tr>
<tr class="memdesc:ad20ae395ef016b51127f16f0521743c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the device into Omni mode.  <a href="#ad20ae395ef016b51127f16f0521743c7"></a><br/></td></tr>
<tr class="memitem:a02015f70c3268eb0535b7c4291f9601f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a02015f70c3268eb0535b7c4291f9601f">handle_status_byte</a> (<a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a> data)</td></tr>
<tr class="memdesc:a02015f70c3268eb0535b7c4291f9601f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the MIDI state machine according to the supplied data byte.  <a href="#a02015f70c3268eb0535b7c4291f9601f"></a><br/></td></tr>
<tr class="memitem:a5415e7b3fc687af7b4555f5e0e0296f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a5415e7b3fc687af7b4555f5e0e0296f8">ISR</a> (USARTE0_RXC_vect)</td></tr>
<tr class="memdesc:a5415e7b3fc687af7b4555f5e0e0296f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main interrupt service routine for incoming MIDI messages.  <a href="#a5415e7b3fc687af7b4555f5e0e0296f8"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a115c114a85fa54ece8379b2ea6eec95c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmidi__event__handlers.html">midi_event_handlers</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a115c114a85fa54ece8379b2ea6eec95c">event_handlers</a></td></tr>
<tr class="memdesc:a115c114a85fa54ece8379b2ea6eec95c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MIDI event handlers.  <a href="#a115c114a85fa54ece8379b2ea6eec95c"></a><br/></td></tr>
<tr class="memitem:a86dcb28cd1e17948464f283542cf7c67"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="midi_8h.html#aa24501820672db24a7655770a150cefe">midi_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a86dcb28cd1e17948464f283542cf7c67">midi_state</a> = <a class="el" href="midi_8h.html#aa24501820672db24a7655770a150cefea809777eb23418459f5adc3a479cdf5c7">MIDI_STATE_IDLE</a></td></tr>
<tr class="memdesc:a86dcb28cd1e17948464f283542cf7c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of the MIDI state machine.  <a href="#a86dcb28cd1e17948464f283542cf7c67"></a><br/></td></tr>
<tr class="memitem:acf98080098661bfe1fef3a06e50e356e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#acf98080098661bfe1fef3a06e50e356e">omni_mode</a></td></tr>
<tr class="memdesc:acf98080098661bfe1fef3a06e50e356e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Omni mode state.  <a href="#acf98080098661bfe1fef3a06e50e356e"></a><br/></td></tr>
<tr class="memitem:a88a6663e547fb284b7e4460231cc2338"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a88a6663e547fb284b7e4460231cc2338">rx_channel</a></td></tr>
<tr class="memdesc:a88a6663e547fb284b7e4460231cc2338"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MIDI receive channel.  <a href="#a88a6663e547fb284b7e4460231cc2338"></a><br/></td></tr>
<tr class="memitem:a6e065659fb7c095b6d422c824fbd098e"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="midi_8c.html#a6e065659fb7c095b6d422c824fbd098e">tx_channel</a></td></tr>
<tr class="memdesc:a6e065659fb7c095b6d422c824fbd098e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MIDI transmit channel.  <a href="#a6e065659fb7c095b6d422c824fbd098e"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>MIDI message transceiver. </p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="a02015f70c3268eb0535b7c4291f9601f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_status_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a>&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the MIDI state machine according to the supplied data byte. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the MIDI data byte to be parsed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4816236108052c813fea056a23ebacea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_midi_module </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmidi__config.html">midi_config</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the MIDI transceiver module. </p>
<p>Configures the UART, enables the RXC interrupt and registers MIDI message handlers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>the MIDI module configuration to apply </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5415e7b3fc687af7b4555f5e0e0296f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">USARTE0_RXC_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main interrupt service routine for incoming MIDI messages. </p>
<p>This routine reads and parses MIDI data arriving on the USART and calls the callback functions registered during module initialization. For the time being, all MIDI packets are handled, regardless of the MIDI channel, so uMIDI devices are effectively in OMNI mode. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="midi_8h.html#af5a1c9ea8010f388e7824c6b80b5b306" title="Initializes the MIDI transceiver module.">init_midi_module</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a72ade2b1ea27cc87a1398daaa0d98eb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a> read_midi_channel_from_jumpers </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structjumpers.html">jumpers</a> *&#160;</td>
          <td class="paramname"><em>jumpers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the MIDI channel configuration from the solder jumpers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jumpers</td><td>the the solder jumpers configuration struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the selected MIDI channel </dd></dl>

</div>
</div>
<a class="anchor" id="a03c6a8c4cbef6b9e7662e932a86dd4db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_control_change </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a>&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a control change message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controller</td><td>the MIDI controller number </td></tr>
    <tr><td class="paramname">value</td><td>the new value for the controller </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a00f36dbe09b2525eb4c85078d6e2442d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_note_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a>&#160;</td>
          <td class="paramname"><em>note</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a note off message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">note</td><td>the MIDI note number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a932a1fca6505217993ecf70796e3df59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_note_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a>&#160;</td>
          <td class="paramname"><em>note</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a note on message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">note</td><td>the MIDI note number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a21214b7fc3babde70e00cc79c785cdc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_program_change </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midi_8h.html#a855fab3ea354d116fdd2cbff9c806180">midi_value_t</a>&#160;</td>
          <td class="paramname"><em>program</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a program change message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">program</td><td>the new MIDI program to load </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ace33586e2fb7bfb976424328e2a04377"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_midi_rx_channel </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the midi receive channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to listen on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abd61659f8ea80ca6752621faba3272c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_midi_tx_channel </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the midi transmit channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to talk on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad20ae395ef016b51127f16f0521743c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_omni_mode </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the device into Omni mode. </p>
<p>In Omni mode the device handles all received MIDI messages regardless of the channel. When not in Omni mode, only messages on the configured receive channel are processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>if <code>true</code>, Omni mode is enabled; if <code>false</code>, it is disabled </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2>Variable Documentation</h2>
<a class="anchor" id="a115c114a85fa54ece8379b2ea6eec95c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmidi__event__handlers.html">midi_event_handlers</a>* event_handlers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MIDI event handlers. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="midi_8h.html#af5a1c9ea8010f388e7824c6b80b5b306" title="Initializes the MIDI transceiver module.">init_midi_module</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a86dcb28cd1e17948464f283542cf7c67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="midi_8h.html#aa24501820672db24a7655770a150cefe">midi_state</a> <a class="el" href="midi_8h.html#aa24501820672db24a7655770a150cefe">midi_state</a> = <a class="el" href="midi_8h.html#aa24501820672db24a7655770a150cefea809777eb23418459f5adc3a479cdf5c7">MIDI_STATE_IDLE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current state of the MIDI state machine. </p>

</div>
</div>
<a class="anchor" id="acf98080098661bfe1fef3a06e50e356e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool omni_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Omni mode state. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="midi_8h.html#af5a1c9ea8010f388e7824c6b80b5b306" title="Initializes the MIDI transceiver module.">init_midi_module</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a88a6663e547fb284b7e4460231cc2338"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a> rx_channel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MIDI receive channel. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="midi_8h.html#af5a1c9ea8010f388e7824c6b80b5b306" title="Initializes the MIDI transceiver module.">init_midi_module</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6e065659fb7c095b6d422c824fbd098e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="midi_8h.html#a226b762c16a31016dd8cc32deba337a2">midi_channel</a> tx_channel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MIDI transmit channel. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="midi_8h.html#af5a1c9ea8010f388e7824c6b80b5b306" title="Initializes the MIDI transceiver module.">init_midi_module</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 6 2016 16:50:06 for uMIDI by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
